{
  "name": "OCR Document Processing",
  "slug": "ocr-processing",
  "description": "Extract text from documents, classify, validate, store, and notify",
  "type": "template",
  "state": "active",
  "processors": [
    {
      "id": "ocr-step",
      "type": "tesseract-ocr",
      "config": {
        "language": "eng",
        "psm": 3,
        "dpi": 300
      }
    },
    {
      "id": "classify-step",
      "type": "document-classifier",
      "config": {
        "categories": ["invoice", "receipt", "contract", "other"],
        "model": "gpt-4o-mini",
        "min_confidence": 0.7
      }
    },
    {
      "id": "validate-step",
      "type": "schema-validator",
      "config": {
        "strict": false
      }
    },
    {
      "id": "s3-step",
      "type": "s3storage",
      "config": {
        "bucket": "stash-documents",
        "prefix": "processed/"
      }
    },
    {
      "id": "notify-step",
      "type": "emailnotifier",
      "config": {
        "subject": "Document Processed",
        "template": "ocr-complete",
        "recipients": ["{{uploader.email}}"]
      }
    }
  ],
  "allowed_mime_types": [
    "application/pdf",
    "image/jpeg",
    "image/png",
    "image/tiff"
  ],
  "max_file_size_bytes": 10485760,
  "settings": {
    "queue": "default",
    "ai_provider": "openai"
  }
}
